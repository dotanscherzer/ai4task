# PRD – Challenge Interview Bot (RTL)

## 1. רקע
Dotan (Admin) רוצה לאסוף מידע ממנהל/ת באמצעות צ'אט חכם כדי לבנות "מפת אתגר" בתחום:
פירוק אפיון HLD לתוכנית עבודה (Epics/Features/Stories) בצורה עקבית בין מדורי פיתוח.

בסיום הריאיון – התשובות + סיכום מסודר נשלחים במייל ל-Admin.

## 2. מטרות
- להאיץ איסוף מידע איכותי למפת אתגר.
- להפחית עומס על המנהל: לא חובה לענות על כל שאלה.
- לאפשר שאלות המשך חכמות כשצריך, ודילוג כשכבר כוסה הנושא.
- להפיק Output קריא: Q&A לפי נושאים + תובנות/חסמים/סיכונים + Action Items.

## 3. משתמשים ופרסונות
### Admin (Dotan)
- יוצר ריאיון, בוחר נושאים/שאלות, שולח לינק.
- רוצה לקבל סיכום מקצועי במייל + אפשרות שליחה חוזרת.

### Manager (מנהל/ת)
- נכנס/ת דרך לינק חד-פעמי (token).
- עונה בצ'אט, יכול/ה לדלג או לעצור ולהמשיך.

## 4. Scope
### In-Scope
- 2 מסכים: Admin Dashboard, Manager Chat.
- יצירת ריאיון + share link.
- צ'אט חכם (OpenRouter) עם החלטה על השאלה הבאה.
- שמירה והתחדשות (Resume).
- שליחת מייל סיכום.

### Out-of-Scope (לשלב 2)
- PDF export.
- ניהול משתמשים מתקדם (ריבוי Admins).
- חיבור ל-Jira/ADO.
- אנליטיקות מתקדמות/דאשבורדים.

## 5. דרישות פונקציונליות
### Admin
- Login (Supabase Auth).
- Create Interview:
  - manager_name (חובה)
  - manager_role (אופציונלי)
  - admin_target_email (ברירת מחדל: dotan.scherzer@gmail.com)
  - בחירת Topics 1–8 (checkbox)
  - Enable/Disable שאלות ספציפיות + הוספת שאלה מותאמת + שינוי סדר
- View Interview:
  - סטטוס: not_started / in_progress / completed
  - Q&A לפי Topic
  - סטטיסטיקות: answered/skipped, start/end
- Send Email:
  - שליחה/שליחה חוזרת למייל יעד

### Manager
- כניסה לפי `/i/{share_token}` ללא התחברות.
- צ'אט:
  - שאלה אחת בכל פעם
  - Quick actions: דלג / לא יודע / עצור
  - Resume מאותה נקודה
  - בסוף כל Topic: “רוצה להוסיף עוד משהו בנושא הזה?”
  - Finish: “שלח והגש”

## 6. דרישות "חכמות" (LLM Behavior)
- שאלת המשך אחת בלבד אם התשובה כללית.
- אם כוסו שאלות נוספות באותו Topic – לדלג עליהן (mark as covered).
- אחרי 2–3 תשובות מלאות או confidence>=0.7 – הצעת מעבר Topic.
- לא לבקש מידע רגיש/מזהה (PII/לקוחות/מספרים אמיתיים). אם מתקבל – לבקש הכללה.

## 7. KPI (מוצר)
- זמן ריאיון ממוצע 6–12 דקות.
- שיעור השלמה ≥ 70%.
- לפחות 4 Topics מכוסים בריאיון טיפוסי.
- מייל תקין ל-Admin ב-99% מהראיונות שהושלמו.

## 8. קצוות/שגיאות
- Token לא תקין → הודעת שגיאה + אין גישה.
- פונקציית AI לא זמינה → fallback: שאלות קבועות לפי סדר.
- מייל נכשל → הצגת שגיאה ב-Admin + אפשרות retry.
